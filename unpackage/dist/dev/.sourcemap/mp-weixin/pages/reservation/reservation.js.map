{"version":3,"sources":["uni-app:///main.js","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?2635","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?5f3e","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?7823","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?3d97","uni-app:///pages/reservation/reservation.vue","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?f533","webpack:////Applications/caoruonan/my/new/training-wx/pages/reservation/reservation.vue?ba1b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","labelPosition","hours","imgData","formData","name","phone","address","startTime","endTime","latitude","longitude","notes","minStarTime","minEndTime","maxEndTime","formatter","computed","totalTime","onLoad","methods","getPhoneNumber","code","startConfirm","endConfirm","showSelectDate","uni","title","icon","submit","tmplIds","success","openId","studentId","stuName","telephone","imageId","duration","mask","then","setTimeout","url","catch","console","handleStartChange","getLocationAndSelectAddress","_this","type","highAccuracyExpireTime","fail","content","selectAddress","handleRemove","handlePreview","urls","uploadImg","count","filePath","stuId","Math"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACgM;AAChM,gBAAgB,oMAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,uYAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAyvB,CAAgB,wuBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACwK7wB;AACA;AACA;AACA;AAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACA;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACAJ;MAAA;MACAC;MAAA;MACAI;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACA;IACA;EAAA,GACA,oCACA;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cAAA,IACA;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA;EACAC;IACA;IACAC;MAAA;MACA;QACAC;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;MACA;MACA;QACA;UACAC;YACAC;YACAC;UACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACAH;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAF;UACAC;UACAC;QACA;QACA;MACA;MACAjC;QACA;QACAmC;QACAC;MACA;MACA;QACAC;QACAC;QACAzB;QACAC;QACAE;QACAD;QACAH;QACA2B;QACAC;QACAC;QACAxB;QACAyB;MACA;MACAX;QACAC;QACAW;MACA;MACA,iEACAC;QACA;QACA;QACA;QACA;QACA;QACAC;UACAd;YACAe;UACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,GACAC;QACAhB;UACAC;UACAC;UACAS;QACA;QACAG;UACAd;YACAe;UACA;QACA;QACAE;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC,gBACA;gBACApB;kBACAqB;kBACAC;kBACAjB;oBACA;oBACAL;sBACAhB;sBACAC;sBACAoB;wBACAe;wBACAA;wBACAA;sBACA;sBACAG;wBACAN;sBACA;oBACA;kBACA;kBACAM;oBACA;oBACAvB;sBACAK;wBACA;0BACA;0BACAL;4BACAC;4BACAuB;4BACAnB;8BACA;gCACA;gCACAL;kCACAK;oCACA;sCACAe;oCACA;sCACA;sCACApB;wCACAC;wCACAC;sCACA;oCACA;kCACA;gCACA;8BACA;4BACA;0BACA;wBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAuB;MACA;IACA;IACA;IACAC;MACA;MACA1B;QACAC;QACAI;UACA;YACAe;UACA;QACA;MACA;IACA;IACA;IACAO;MACA3B;QACA4B;MACA;IACA;IACA;IACAC;MACA;MAEA7B;QACA8B;QACAzB;UACAL;YACAC;YACAW;UACA;UACAZ;YACAe;YACAgB;YACApD;YACAD;cACAsD;YACA;YACA3B;cACA;cACAe;cACAA;cACAA;cACAA;cACAA,qBACAa;cACAjC;gBACAC;gBACAC;cACA;YACA;YACAqB;cACAvB;gBACAC;gBACAC;cACA;cACAkB;cACAH;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClhBA;AAAA;AAAA;AAAA;AAAg7C,CAAgB,20CAAG,EAAC,C;;;;;;;;;;;ACAp8C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/reservation/reservation.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/reservation/reservation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./reservation.vue?vue&type=template&id=53b51f20&scoped=true&\"\nvar renderjs\nimport script from \"./reservation.vue?vue&type=script&lang=js&\"\nexport * from \"./reservation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reservation.vue?vue&type=style&index=0&id=53b51f20&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53b51f20\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/reservation/reservation.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reservation.vue?vue&type=template&id=53b51f20&scoped=true&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uvIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-icon/components/uv-icon/uv-icon\" */ \"@/uni_modules/uv-icon/components/uv-icon/uv-icon.vue\"\n      )\n    },\n    uvDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uv-datetime-picker/components/uv-datetime-picker/uv-datetime-picker\" */ \"@/uni_modules/uv-datetime-picker/components/uv-datetime-picker/uv-datetime-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reservation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reservation.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"container\">\n    <view class=\"header\">\n      <view class=\"title-box\">\n        <view class=\"inner\">\n          <view class=\"title\">体验课</view>\n          <view class=\"desc\">护安行陪驾，开车不再怕</view>\n        </view>\n        <image src=\"https://7072-prod-1gnzk6n75a8b6b8b-1327385705.tcb.qcloud.la/images/hotel-reservation-success.png?sign=b16f7d547e80614556e8ff0a65df60ee&t=1730479658\" class=\"img\"></image>\n      </view>\n    </view>\n    <view class=\"form-box\">\n      <uni-forms\n          ref=\"form\"\n          :modelValue=\"formData\"\n          label-width=\"160rpx\"\n          :label-align=\"labelPosition\">\n        <view class=\"item-title\">基本信息</view>\n        <view class=\"border-box\">\n          <uni-forms-item class=\"border-box\" label=\"姓名\" required>\n            <uni-easyinput\n                v-model=\"formData.name\"\n                placeholder=\"请填写真实姓名，用于签署学员免责协议\"\n            />\n          </uni-forms-item>\n        </view>\n        <view class=\"border-box\">\n          <uni-forms-item class=\"border-box\" label=\"手机号\" required>\n            <uni-easyinput\n                type=\"number\"\n                v-model=\"formData.phone\"\n                placeholder=\"请输入手机号（大陆地区）\"\n            />\n            <!-- 获取手机号 -->\n            <button open-type=\"getPhoneNumber\"\n                    class=\"get-phone-button\"\n                    size='mini'\n                    @getphonenumber=\"getPhoneNumber\">获取</button>\n          </uni-forms-item>\n        </view>\n        <view class=\"border-box\">\n          <uni-forms-item class=\"border-box\" label=\"接送地址\" required>\n            <view class=\"inner\" @click=\"selectAddress\">\n              <uni-easyinput\n                  disabled\n                  :disableColor=\"{ disableColor: '#f5f5f5' }\"\n                  v-model=\"formData.address\"\n                  placeholder=\"请选择定位\"\n              />\n              <view class=\"icon-wrap\">\n                <image\n                    src=\"https://7072-prod-1gnzk6n75a8b6b8b-1327385705.tcb.qcloud.la/images/address.png?sign=e67e73e99af6613896993a4814d0e56c&t=1730479177\"\n                    class=\"icon\"\n                ></image>\n              </view>\n            </view>\n          </uni-forms-item>\n        </view>\n        <view class=\"line\"></view>\n        <view class=\"item-title time-box\">预约时间\n          <view class=\"total-time\" v-show=\"totalTime\">共{{ totalTime }}</view>\n        </view>\n        <view class=\"border-box\">\n          <uni-forms-item class=\"border-box\" label=\"开始\" required>\n            <view class=\"inner\" @click=\"showSelectDate('start')\">\n              <uni-easyinput\n                  disabled\n                  v-model=\"formData.startTime\"\n                  placeholder=\"请选择开始时间\"\n              />\n            </view>\n            <view class=\"icon-wrap right\">\n              <uv-icon\n                  class=\"icon\"\n                  name=\"arrow-down\"\n                  color=\"#9FA2A8\"\n                  size=\"16\"\n              ></uv-icon>\n            </view>\n            <!-- \t<uni-datetime-picker @change=\"handleStartChange\" hide-second type=\"datetime\" return-type=\"timestamp\"\n              placeholder=\"请选择开始时间\" v-model=\"formData.startTime\" /> -->\n          </uni-forms-item>\n        </view>\n        <view class=\"border-box\">\n          <uni-forms-item class=\"border-box\" label=\"结束\" required>\n            <view class=\"inner\" @click=\"showSelectDate('end')\">\n              <uni-easyinput\n                  disabled\n                  v-model=\"formData.endTime\"\n                  placeholder=\"请选择结束时间\"\n              />\n            </view>\n            <view class=\"icon-wrap right\">\n              <uv-icon\n                  class=\"icon\"\n                  name=\"arrow-down\"\n                  color=\"#9FA2A8\"\n                  size=\"16\"\n              ></uv-icon>\n            </view>\n            <!-- <uni-datetime-picker :start=\"formData.startTime\" :disabled=\"formData.startTime === ''\" hide-second\n              type=\"datetime\" return-type=\"timestamp\" placeholder=\"请选择结束时间\" v-model=\"formData.endTime\" /> -->\n          </uni-forms-item>\n        </view>\n        <view class=\"line\"></view>\n        <view class=\"item-title\" style=\"margin-top:35rpx\">驾驶证\n          <text class=\"text\">驾驶证照片或交管12123截图</text>\n        </view>\n        <view class=\"upload-box\">\n          <view class=\"upload\" v-if=\"!imgData\" @click=\"uploadImg\">\n            <image\n                src=\"../../static/images/image.png\"\n                class=\"icon\"\n            ></image>\n            <text class=\"text\">上传图片</text>\n          </view>\n          <view class=\"preview\" v-else>\n            <image\n                :src=\"imgData.url\"\n                class=\"image\"\n                @click=\"handlePreview\"\n            ></image>\n            <view class=\"center\">\n              <view class=\"name\">{{ imgData.name }}</view>\n              <view class=\"size\">{{ imgData.size }}</view>\n            </view>\n            <image\n                src=\"https://7072-prod-1gnzk6n75a8b6b8b-1327385705.tcb.qcloud.la/images/delete.png?sign=83166bdc57a92a911b5e5e9e83e3a9ac&t=1730479341\"\n                class=\"delete\"\n                @click=\"handleRemove\"\n            >\n            </image>\n          </view>\n        </view>\n        <view class=\"item-title\" style=\"margin-top: 22px\">备注</view>\n        <view class=\"border-box\">\n          <uni-easyinput\n              v-model=\"formData.notes\"\n              type=\"textarea\"\n              class=\"border-box\"\n              placeholder=\"请输入备注\"\n          />\n        </view>\n      </uni-forms>\n    </view>\n    <view class=\"submit-box\">\n      <button type=\"primary\" class=\"submit\" @click=\"submit\">提交</button>\n    </view>\n    <uv-datetime-picker\n        ref=\"startTime\"\n        :minDate=\"minStarTime\"\n        :formatter=\"formatter\"\n        v-model=\"startTime\"\n        mode=\"datetime\"\n        @confirm=\"startConfirm\"\n    ></uv-datetime-picker>\n    <uv-datetime-picker\n        ref=\"endTime\"\n        :minDate=\"startTime\"\n        :formatter=\"formatter\"\n        v-model=\"endTime\"\n        mode=\"datetime\"\n        @confirm=\"endConfirm\"\n    ></uv-datetime-picker>\n  </view>\n</template>\n\n<script>\nimport {baseURL} from \"@/utils/config.js\";\nimport {timeFormat} from \"@/uni_modules/uv-ui-tools/libs/function/index.js\";\nimport {mapGetters} from \"vuex\";\nimport {get, post} from \"@/utils/request.js\";\n\nexport default {\n  data() {\n    return {\n      labelPosition: \"left\",\n\t  hours:0,\n      imgData: null, //上传的驾驶证\n      //表单数据\n      formData: {\n        name: \"\", //姓名\n        phone: \"\", //手机号\n        address: \"\", //接送地址\n        startTime: \"\", //开始时间\n        endTime: \"\", //结束时间\n        latitude: \"\", //纬度\n        longitude: \"\", //经度\n        notes: \"\", //备注\n      },\n      startTime: \"\", //开始时间\n      endTime: \"\", //结束时间\n      minStarTime: \"\", //开始选择日期最小限制\n      minEndTime: \"\", //结束选择日期最小限制\n      maxEndTime: \"\", //结束选择日期最大限制\n      //格式化时间选择\n      formatter(type, value) {\n        if (type === \"year\") {\n          return `${value}年`;\n        }\n        if (type === \"month\") {\n          return `${value}月`;\n        }\n        if (type === \"day\") {\n          return `${value}日`;\n        }\n        if (type === \"hour\") {\n          return `${value}时`;\n        }\n        if (type === \"minute\") {\n          return `${value}分`;\n        }\n        return value;\n      },\n    };\n  },\n  computed: {\n    totalTime() {\n      if (this.formData.startTime && this.formData.endTime) {\n      \t\tconst start = new Date(this.formData.startTime.replace(/-/g, '/'));\n      \t\tconst end = new Date(this.formData.endTime.replace(/-/g, '/'));\n      \t\tconst difference = end - start;\n      \t\tthis.hours = Math.floor(difference / (1000 * 60 * 60));\n      \t\tconst minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));\n      \t\treturn `${this.hours}小时`;\n      \t\t//hours < 10 ? \"0\" + hours :\n      \t\t// ${\n      \t\t//   minutes < 10 ? \"0\" + minutes : minutes\n      \t\t// }分\n      \t}\n      \treturn '';\n      },\n    ...mapGetters([\"userinfo\"]),\n  },\n  async onLoad() {\n    if (!this.userinfo) {\n      await this.$store.dispatch('initUserinfo')\n    }\n  },\n  methods: {\n    //获取手机号\n    getPhoneNumber(e) {\n      get(\"/weCom/getPhoneNumber\", {\n        code: e.detail.code,\n      }).then((res) => {\n        this.formData.phone = res;\n      });\n    },\n    //开始选择日期确认\n    startConfirm(e) {\n      this.formData.startTime = timeFormat(e.value, \"yyyy-mm-dd hh:MM\");\n      this.formData.endTime = \"\";\n      this.endTime = \"\";\n    },\n    //结束选择日期确认\n    endConfirm(e) {\n      this.formData.endTime = timeFormat(e.value, \"yyyy-mm-dd hh:MM\");\n    },\n    //显示选中时间弹窗\n    showSelectDate(name) {\n      if (name === \"start\") {\n        this.minStarTime = +new Date();\n        this.$refs.startTime.open();\n      }\n      if (name === \"end\") {\n        if (!this.formData.startTime) {\n          uni.showToast({\n            title: \"请选择开始时间\",\n            icon: \"none\",\n          });\n          return;\n        }\n        this.$refs.endTime.open();\n      }\n    },\n    //提交\n    submit() {\n      if (!this.formData.name) {\n        uni.showToast({\n          title: \"请输入姓名\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.formData.phone) {\n        uni.showToast({\n          title: \"请输入手机号\",\n          icon: \"none\",\n        });\n        return;\n      }\n      const reg = /^1[3-9]\\d{9}$/;\n      if (!reg.test(this.formData.phone)) {\n        uni.showToast({\n          title: \"手机号格式错误\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.formData.address) {\n        uni.showToast({\n          title: \"请选择接送地址\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.formData.startTime) {\n        uni.showToast({\n          title: \"请选择接预约开始时间\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.formData.endTime) {\n        uni.showToast({\n          title: \"请选择接预约结束时间\",\n          icon: \"none\",\n        });\n        return;\n      }\n      if (!this.imgData) {\n        uni.showToast({\n          title: \"请上传驾驶证\",\n          icon: \"none\",\n        });\n        return;\n      }\n\t  if(this.hours<2){\n\t  \tuni.showToast({\n\t  \t\ttitle: '预约时间最低为2小时',\n\t  \t\ticon: 'none'\n\t  \t});\n\t  \treturn;\n\t  }\n\t  if(this.hours>6){\n\t  \tuni.showToast({\n\t  \t\ttitle: '预约时间高不超过6小时',\n\t  \t\ticon: 'none'\n\t  \t});\n\t  \treturn;\n\t  }\n    wx.requestSubscribeMessage({\n      //课堂反馈通知\n      tmplIds: ['UaY5tuSTDJn7ufVFvLlILru4jpmL_nmrAmwXyV7IQoQ'],\n      success (res) { }\n    })\n      const data = {\n        openId: uni.getStorageSync(\"openid\"),\n        studentId: this.userinfo.id,\n        startTime: this.formData.startTime + \":00\",\n        endTime: this.formData.endTime + \":00\",\n        longitude: this.formData.longitude,\n        latitude: this.formData.latitude,\n        address: this.formData.address,\n        stuName: this.formData.name,\n        telephone: this.formData.phone,\n        imageId: this.imgData.imageId,\n        notes: this.formData.notes,\n\t\tduration:this.totalTime\n      };\n      uni.showLoading({\n        title: \"提交中...\",\n        mask: true,\n      });\n      return post(\"/lessonManagement/reservation\", data)\n          .then((res) => {\n            // uni.showToast({\n            //   title: \"提交成功\",\n            //   duration: 1000,\n            //   mask: true,\n            // });\n            setTimeout(() => {\n              uni.redirectTo({\n                url: \"/pages/submit/success/success\",\n              });\n            }, 600);\n            // this.imgData = null; //上传的驾驶证\n            // this.formData.name = \"\"; //姓名\n            // this.formData.phone = \"\"; //手机号\n            // this.formData.address = \"\"; //接送地址\n            // this.formData.startTime = \"\"; //开始时间\n            // this.formData.endTime = \"\"; //结束时间\n            // this.formData.latitude = \"\"; //纬度\n            // this.formData.longitude = \"\"; //经度\n            // this.formData.notes = \"\"; //备注\n            // this.startTime = \"\"; //开始时间\n            // this.endTime = \"\"; //结束时间\n            // this.minStarTime = \"\"; //开始选择日期最小限制\n            // this.minEndTime = \"\"; //结束选择日期最小限制\n            // this.maxEndTime = \"\"; //结束选择日期最大限制\n          })\n          .catch((err) => {\n            uni.showToast({\n              title: \"提交失败\",\n              icon: \"none\",\n              duration: 2000,\n            });\n            setTimeout(() => {\n              uni.redirectTo({\n                url: \"/pages/submit/fail/fail\",\n              });\n            }, 600);\n            console.log(err);\n          });\n    },\n    //开始时间发生变化\n    handleStartChange() {\n      this.formData.endTime = \"\";\n    },\n    async getLocationAndSelectAddress() {\n      const _this = this;\n      // 获取用户当前位置\n      uni.getLocation({\n        type: \"gcj02\",\n        highAccuracyExpireTime: true,\n        success: (result) => {\n          // 打开选择地址界面\n          uni.chooseLocation({\n            latitude: result.latitude,\n            longitude: result.longitude,\n            success: (res) => {\n              _this.formData.address = res.name;\n              _this.formData.latitude = res.latitude;\n              _this.formData.longitude = res.longitude;\n            },\n            fail: (err) => {\n              console.log(err);\n            },\n          });\n        },\n        fail: (err) => {\n          // 检测用户是否授权位置权限\n          uni.getSetting({\n            success(res) {\n              if (!res.authSetting[\"scope.userLocation\"]) {\n                // 用户未授权，提示用户\n                uni.showModal({\n                  title: \"需要定位权限\",\n                  content: \"我们需要您的位置权限来提供服务\",\n                  success: (modalRes) => {\n                    if (modalRes.confirm) {\n                      // 用户同意，打开设置页面\n                      uni.openSetting({\n                        success(settingRes) {\n                          if (settingRes.authSetting[\"scope.userLocation\"]) {\n                            _this.getLocationAndSelectAddress();\n                          } else {\n                            // 用户依然拒绝授权，可以再次提示或者提供替代方案\n                            uni.showToast({\n                              title: \"需要您授权位置权限\",\n                              icon: \"none\",\n                            });\n                          }\n                        },\n                      });\n                    }\n                  },\n                });\n              }\n            },\n          });\n        },\n      });\n    },\n    //选择地址\n    selectAddress() {\n      this.getLocationAndSelectAddress();\n    },\n    //移除图片\n    handleRemove() {\n      const _this = this;\n      uni.showModal({\n        title: \"是否移除当前图片\",\n        success(res) {\n          if (res.confirm) {\n            _this.imgData = null;\n          }\n        },\n      });\n    },\n    //预览图片\n    handlePreview() {\n      uni.previewImage({\n        urls: [this.imgData.url],\n      });\n    },\n    //上传图片\n    uploadImg() {\n      const _this = this;\n\n      uni.chooseImage({\n        count: 1,\n        success(res) {\n          uni.showLoading({\n            title: \"上传中...\",\n            mask: true,\n          });\n          uni.uploadFile({\n            url: baseURL + \"/weCom/uploadFile\",\n            filePath: res.tempFilePaths[0],\n            name: \"file\",\n            formData: {\n              stuId: _this.userinfo.id,\n            },\n            success: (result) => {\n              const data = JSON.parse(result.data);\n              _this.imgData = {};\n              _this.imgData.imageId = data.data;\n              _this.imgData.url = res.tempFilePaths[0];\n              _this.imgData.name = \"大小\";\n              _this.imgData.size =\n                  Math.floor(res.tempFiles[0].size / 1024) + \"KB\";\n              uni.showToast({\n                title: \"上传成功\",\n                icon: \"none\",\n              });\n            },\n            fail(err) {\n              uni.showToast({\n                title: \"上传失败\",\n                icon: \"none\",\n              });\n              _this.imgData = null;\n              console.log(err);\n            },\n          });\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.line {\n  width: 100%;\n  height: 1rpx;\n  background: #f7f7f7 !important;\n  margin-top: 35rpx;\n}\n\n/deep/ .border-box {\n  margin-top: 25rpx;\n  border: solid 1px #64b0d2 !important;\n  border-radius: 15rpx;\n}\n\n.input-container {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n\n.input-field {\n  flex: 1;\n  margin-right: 10px; /* 根据需要调整间距 */\n}\n\n.get-phone-button {\n  position: absolute;\n  right: 10px; /* 根据需要调整间距 */\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.container {\n  padding-bottom: 120rpx;\n  line-height: 1;\n\n  .header {\n    box-sizing: border-box;\n    width: 100%;\n    height: 129px;\n    flex-shrink: 0;\n    padding: 0 28rpx;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background: #ebf8fb;\n\n    .title-box {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .inner {\n        padding: 0 20rpx;\n\n        .title {\n          color: #040404;\n          font-family: \"Work Sans\";\n          font-size: 28px;\n          font-style: normal;\n          font-weight: 600;\n          line-height: 60px;\n        }\n\n        .desc {\n          color: #64B0D2;\n          text-align: center;\n          font-family: \"PingFang SC\";\n          font-size: 14px;\n          font-style: normal;\n          font-weight: 400;\n          line-height: 22px;\n          letter-spacing: -0.408px;\n        }\n      }\n\n      .img {\n        width: 110px;\n        height: 110px;\n        flex-shrink: 0;\n      }\n    }\n  }\n\n  /deep/ .uni-forms-item {\n    margin-bottom: 0 !important;\n    padding: 0 15rpx;\n  }\n\n  /deep/ .uni-forms-item.is-direction-left {\n    align-items: center !important;\n  }\n\n  /deep/ .form-box {\n    padding: 48rpx 24rpx;\n\n    .time-box {\n      margin-top: 35rpx;\n      justify-content: space-between;\n    }\n\n    .total-time {\n      color: #999999;\n      text-align: left;\n      font-size: 26rpx;\n      position: relative;\n    }\n\n    .upload-box {\n      padding: 20rpx 20rpx;\n      border-radius: 12rpx;\n      background-color: #f5f5f5;\n\n      .preview {\n        display: flex;\n        align-items: center;\n        height: 72rpx;\n\n        .image {\n          flex: 0 0 72rpx;\n          height: 72rpx;\n          margin-right: 12rpx;\n        }\n\n        .center {\n          color: #1c1f1c;\n          font-size: 28rpx;\n\n          .size {\n            margin-top: 5rpx;\n            color: #595b59;\n            font-size: 20rpx;\n          }\n        }\n\n        .delete {\n          width: 36rpx;\n          height: 36rpx;\n          margin-left: auto;\n        }\n      }\n\n      .upload {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 72rpx;\n\n        .icon {\n          width: 30rpx;\n          height: 30rpx;\n          margin-right: 12rpx;\n        }\n\n        .text {\n          color: #b3b3b3;\n          font-size: 24rpx;\n          font-weight: bold;\n        }\n      }\n    }\n\n    .item-title {\n      display: flex;\n      align-items: center;\n      margin-bottom: 42rpx;\n      color: #000000;\n      font-size: 30rpx;\n      font-weight: bold;\n\n      .text {\n        margin-left: auto;\n        color: #b3b3b3;\n        font-size: 24rpx;\n        font-weight: 0;\n      }\n    }\n\n    .inner {\n      position: relative;\n      padding-right: 80rpx;\n      background: #ffffff; //#f5f5f5\n      border-radius: 15rpx;\n    }\n\n    .icon-wrap {\n      position: absolute;\n      right: 15rpx;\n      top: 50%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      transform: translateY(-50%);\n\n      &.right {\n        right: 22rpx;\n      }\n\n      .icon {\n        width: 36rpx;\n        height: 36rpx;\n      }\n    }\n\n    .uni-forms-item__label,\n    .uni-easyinput__content-input {\n      height: 92rpx;\n      line-height: 92rpx;\n      font-size: 30rpx !important;\n    }\n\n    .uni-date,\n    .uni-date-x {\n      border-radius: 12rpx;\n      overflow: hidden;\n    }\n\n    .uni-date-x--border,\n    .is-input-border {\n      border: none !important; //#f5f5f5\n      border-radius: 12rpx;\n    }\n\n    .is-focused {\n      border-color: #96d2f0 !important;\n    }\n\n    .is-disabled .uni-easyinput__placeholder-class,\n    .is-disabled {\n      background-color: #ffffff !important;\n      color: #999;\n    }\n\n    .uni-date-x,\n    .uni-date-editor,\n    .uni-easyinput__content {\n      background-color: #ffffff !important;\n    }\n  }\n\n\n  .submit-box {\n    z-index: 10;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: 30rpx 28rpx;\n    box-shadow: -5rpx 0 10rpx rgba(0, 0, 0, 0.1);\n    background: #ffffff;\n\n    .submit {\n      border-radius: 50rpx;\n      background: #4882c0; // #007aff;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reservation.vue?vue&type=style&index=0&id=53b51f20&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./reservation.vue?vue&type=style&index=0&id=53b51f20&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743228119939\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}